<!DOCTYPE html>
<html>

<head>
    <title>Happy Coders - The Coders Game</title>
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>

    <link type="text/css" rel="stylesheet" href="./css/bootstrap.css">
    <style>
        /*body {*/
        /*background-color: white;*/
        /*padding: 0px;*/
        /*margin: 0px;*/
        /*}*/

        #editor {
            /*position: absolute;*/
            /*width: 400px;*/
            height: 600px;
            /*margin-left: 800px;*/
        }

        /*#gamediv {*/
        /*width: 800px;*/
        /*height: 600px;*/
        /*}*/
    </style>

</head>

<body>
<script src="ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8">
</script>

<script src="js/jquery-3.2.1.js"></script>
<script src="js/phaser.js"></script>
<script src="js/states/Boot.js"></script>
<script src="js/states/Preload.js"></script>
<script src="js/states/Game.js"></script>
<script src="js/main.js"></script>

<script src="js/modal.js"></script>
<div id="readMeModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title text-center">Read Me</h4>
            </div>
            <div class="modal-body"">
                <p>gravity = 1000</p>
                <p>mass=10</p>
                <p>
                    //Helper Functions<br/>
                    function degreeToRadian(deg){<br/>
                    &emsp;&emsp;return deg*(Math.PI/180);<br/>
                    }
                    <br/>
                    function radianToDegree(rad){<br/>
                    &emsp;&emsp;return rad*(180/Math.PI);<br/>
                    }
                    <br/>
                    function sin(deg){<br/>
                    &emsp;&emsp;theta = degreeToRadian(deg);<br/>
                    &emsp;&emsp;return Math.sin(theta);<br/>
                    }
                    <br/>
                    function cos(deg){<br/>
                    &emsp;&emsp;theta = degreeToRadian(deg);<br/>
                    &emsp;&emsp;return Math.sin(theta);<br/>
                    }<br/>
                    function tanInv (val) {<br/>
                    &emsp;&emsp;var rad = (Math.atan(val))<br/>
                    &emsp;&emsp;var deg = radianToDegree(rad)<br/>
                    &emsp;&emsp;return deg;<br/>
                    }<br/>
                    function squareRoot(no){<br/>
                    &emsp;&emsp;return Math.sqrt(no);<br/>
                    }<br/>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row">
        <br>
        <div class="col-xs-7" id="gamediv"></div>
        <div class="col-xs-5">
            <div id="editor" style="display: none">


                // YOU CAN EDIT THIS IN BEGINNING
                function getVelocity(h,range){
                //Complete this

                return 600;
                }

                // YOU CAN EDIT THIS IN BEGINNING
                function getAngle(h,range){
                //Complete this


                return 45;
                }


                // THE VARIABLES ARE UPDATED ACCORDING TO THE LEVEL
                velocity = getVelocity();
                angle = getAngle();

                kickBall(velocity,angle);
            </div>
        </div>
    </div>

    <div class="row" style="margin-top: 10px;">
        <div class="btn-group col-xs-8 col-xs-offset-4" style="position: absolute;bottom: 10px">
            <a class="btn btn-danger btn-lg" onclick="toggleModal()">
                ReadMe
            </a>
            <button class="btn btn-lg btn-danger" onclick="runcode()">
                Run Code
            </button>

            <button class="btn btn-lg btn-danger" id='reset' onclick="resetGame()">
                Reset Level
            </button>

            <button class="btn btn-lg btn-danger" id='next' onclick="nextLevel()">
                Next Level
            </button>
        </div>
    </div>
</div>
<script>
    var editor = ace.edit("editor");
    $("#editor").css("display","block");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/javascript");
</script>


<script>
    function runcode() {
        var extra = `
        m = 10;
        setMass(m);
        gravity = 1000;
        function degreeToRadian(deg){
            return deg*(Math.PI/180);
        }

        function radianToDegree(rad){
            return rad*(180/Math.PI);
        }

        function sin(deg){
            theta = degreeToRadian(deg);
            return Math.sin(theta);
        }
        function cos(deg){
            theta = degreeToRadian(deg);
            return Math.sin(theta);
        }
        function tanInv (val) {
            var rad = (Math.atan(val))
            var deg = radianToDegree(rad)
            return deg;
        }
        function squareRoot(no){
            return Math.sqrt(no);
        }
        `;

        var code = extra + editor.getValue();
        eval(code);
    }
    function toggleModal() {
        $("#readMeModal").modal("toggle");
    }
</script>
</body>


</html>